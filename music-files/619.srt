1
00:00:00,151 --> 00:00:01,601
Fala pessoal, bem com vocês?

2
00:00:01,601 --> 00:00:09,091
Sejam muito bem-vindos a mais um DevCop Podcast, são 178 episódios com esse.

3
00:00:09,091 --> 00:00:18,491
Eu fui ver a conta antes de começar a gravar pra eu não errar, 178 episódios, com a metade
na pós-graduação, 365 horas, 178 horas, enfim.

4
00:00:18,491 --> 00:00:21,261
Pessoal, sejam muito bem-vindos a mais episódio de DevCop Podcast.

5
00:00:21,261 --> 00:00:22,785
Eu sou o Caso Pereira.

6
00:00:23,110 --> 00:00:24,526
Eu sou o Ben Hur.

7
00:00:24,546 --> 00:00:26,196
E eu sou Mark Santos.

8
00:00:26,879 --> 00:00:29,429
Nossa, o time inteiro hoje aqui, cara?

9
00:00:29,429 --> 00:00:35,379
O Bay York tá internacional, Agora viaja pelo mundo, Quere gravar só inglês daqui a pouco
também.

10
00:00:35,379 --> 00:00:38,099
O Marcos que vive de férias, então nunca aparece.

11
00:00:38,099 --> 00:00:40,699
O salário tem dia, mas os caras não aparecem pra gravar aqui.

12
00:00:40,699 --> 00:00:44,589
O que importa é que a gente tá reunido hoje e temos uma convidada especial.

13
00:00:44,589 --> 00:00:47,219
A gente já vai falar sobre ela, já vai apresentar ela pra vocês.

14
00:00:47,219 --> 00:00:53,185
Antes de falar da nossa convidada, lembrem-se, o Dev Secals Podcast tem o suporte da Nova
8 e da SNIC.

15
00:00:53,691 --> 00:00:56,551
que a Nova 8 é a distribuidora oficial da SNIC no Brasil.

16
00:00:56,551 --> 00:01:00,871
Então, se você tem interesse nas soluções da SNIC, entre contato com a Nova 8.

17
00:01:00,871 --> 00:01:07,011
No nosso site, lá deve ser qualsevotecast.com.br, tem o link ou lá na descrição do nosso
vídeo no YouTube.

18
00:01:07,011 --> 00:01:12,111
Lembrar também sobre a parceria com a Gold Security, com a DigitalWalk.

19
00:01:12,111 --> 00:01:20,551
E não se esqueça, você já perguntou se você estava sobre risco, enfim, se está sendo sobre
ataque, especialmente sobre o episódio que a fala hoje, The Fear Incident Response, fale

20
00:01:20,551 --> 00:01:21,271
com o pessoal da...

21
00:01:21,271 --> 00:01:22,421
Purple Bird Security.

22
00:01:22,421 --> 00:01:24,871
Eles vão te ajudar com certeza.

23
00:01:24,871 --> 00:01:25,511
Beleza?

24
00:01:25,511 --> 00:01:28,921
Bom, convidada, apresente-se.

25
00:01:28,921 --> 00:01:33,591
Primeiramente, obrigado pelo tempo, disponibilidade, pela reagenda.

26
00:01:33,591 --> 00:01:41,071
teve que remarcar porque deram cano na gente aqui, a já teve que remarcar, mas enfim,
agradeço pela Letícia Pereira que veio participar com a gente hoje.

27
00:01:41,071 --> 00:01:47,151
Se apresenta pouco aí do pessoal, fala pouco do que você faz, pra onde você está indo, e
aí a gente já fala sobre o tema de hoje.

28
00:01:47,481 --> 00:01:49,501
Oi, bom dia pessoal.

29
00:01:49,501 --> 00:02:03,441
Sou a Letícia, hoje atuo como líder numa equipe de Sessorti e também de CTI, que é mais
uma foco de resposta incidente, trate inteligência, é meu campo de atuação hoje, atuo na

30
00:02:03,441 --> 00:02:10,969
parte da liderança de uma equipe, tive a oportunidade de criar essa equipe do zero pra
poder...

31
00:02:10,969 --> 00:02:22,409
Como é que montavam o CISSER, tivesse toda essa experiência Criar processos, recrutar
pessoas, desenvolver pessoas E hoje estou aqui para gente poder trocar umas ideias De caso

32
00:02:22,409 --> 00:02:36,729
que vem aumentando assim desde o tempo que eu comecei Que foi incidentes em web Algo que
até então antes a gente pegava pouco Mas só esse ano aqui a gente pegou alguns casos bem

33
00:02:36,729 --> 00:02:39,435
bravos que...

34
00:02:39,737 --> 00:02:41,299
dar impacto muito grande.

35
00:02:41,299 --> 00:02:42,199
Boa!

36
00:02:42,199 --> 00:02:47,859
Aí eu comecei a perguntar para os nossos meninos aqui, o Marcos e o Benyur, já tiveram
algum incidente web?

37
00:02:49,183 --> 00:03:00,803
Cara, eu vou dizer que foi incidente, mas na época eu não trabalhava com segurança, não
tinha muita noção disso, que foi mais ter o website pichado, Então, trabalhei numa empresa

38
00:03:00,803 --> 00:03:13,503
que toda semana tinha site pichado lá, a trocou acho que umas 3, 4 vezes de web provider
lá, nem vou falar zoa, mas era o bem conhecido mercado, depois a trocou pra outro, e no

39
00:03:13,503 --> 00:03:16,763
final acabou hospedando internamente e não adiantou de porra nenhuma.

40
00:03:17,364 --> 00:03:18,624
Puta que pariu.

41
00:03:18,624 --> 00:03:20,374
Tem nome isso, o defacing né?

42
00:03:20,374 --> 00:03:22,024
famoso defacing.

43
00:03:22,024 --> 00:03:23,544
O defacing cara.

44
00:03:23,544 --> 00:03:26,644
Quem nunca teve um defacement que atira a primeira pedra né?

45
00:03:26,644 --> 00:03:29,176
E você Benyul, já tomou defacement?

46
00:03:29,700 --> 00:03:34,360
Não, um incidente segurança hoje de manhã eu ainda não tive nenhum, né?

47
00:03:34,360 --> 00:03:38,540
Hoje, hoje tá, hoje tá, hoje de manhã tá...

48
00:03:38,540 --> 00:03:44,220
Até o presente momento tá tranquilo, o celular já desligado, eu acabei de chegar aqui,
então tá tudo certo.

49
00:03:44,440 --> 00:03:49,000
Mas, cara, já foram, já foram alguns, né?

50
00:03:49,000 --> 00:03:50,680
Já foram alguns.

51
00:03:51,320 --> 00:03:58,531
E acredito que dos que foi mais difícil de lidar com relação...

52
00:03:58,531 --> 00:04:03,371
Com relação a isso foi uma fraude, fraude cartão de crédito, né?

53
00:04:03,371 --> 00:04:12,451
Que que envolve muitos, muitos, muitos steps internos e ele não é uma explotação fácil de
identificar, né?

54
00:04:12,451 --> 00:04:23,271
Não é um comando, uma série de caracteres que você busca num log e cara, achei aqui o
indicador de comprometimento porque aqui tinha uma áspa simples algum lugar, eu descobri

55
00:04:23,271 --> 00:04:25,111
que isso aqui não é input padrão.

56
00:04:25,111 --> 00:04:25,571
Não.

57
00:04:25,571 --> 00:04:36,911
quando começam a usar o sistema de forma legítima e uma falha numa regra de negócio te
complica porque todos os dados estão ok, né?

58
00:04:36,911 --> 00:04:39,931
Mas o dinheiro saiu sem deveria, sem...

59
00:04:39,931 --> 00:04:41,651
tem que dever sair.

60
00:04:41,971 --> 00:04:42,840
Exato.

61
00:04:42,840 --> 00:04:50,140
No final do episódio vou contar caso sobre fraude cartão também, mas manda aí Letícia, se
é convidado o palco é seu.

62
00:04:50,140 --> 00:04:51,102
Fala aí.

63
00:04:51,102 --> 00:04:57,602
Então, isso realmente é o caso mais sinistro que a gente pegou 2, né?

64
00:04:57,602 --> 00:05:13,742
Que é justamente quando não é um SQL Injection, não é um XSS, não é alguma falha ali no
servidor nem nada É quando a própria aplicação é a própria falha, forma como ela foi

65
00:05:13,742 --> 00:05:19,242
desenvolvida E essa parte, para a gente aqui que responde esse dente

66
00:05:19,863 --> 00:05:31,083
É muito sinistro porque a gente não conhece aplicação Geralmente, por mais que a gente,
ainda mais que eu faço parte de consultoria Quando nós somos parte de participante do

67
00:05:31,083 --> 00:05:40,003
próprio produto de uma empresa É mais fácil porque você tem pessoas que conhece dentro da
empresa Você já conhece pouco mais do processo Você já entende pouco mais como é que as

68
00:05:40,003 --> 00:05:48,382
coisas funcionam Mas do nosso ponto de vista, que é exercício de consultoria A gente
muitas vezes tem que conhecer

69
00:05:48,822 --> 00:05:57,462
Claro que depende muito do contexto, mas às vezes a gente até conhece o negócio do
cliente, gente até conhece a aplicação do cliente, gente até conhece algumas informações.

70
00:05:57,462 --> 00:06:07,402
Mas para você responder um incidente, para você identificar exatamente de onde está saindo
aquela falha, o que está causando aquilo ali, você precisa ter conhecimento da aplicação,

71
00:06:07,402 --> 00:06:15,922
de como que ela foi desenvolvida, de jeito muito mais aprofundado do que a gente aqui
resposta de incidente, que entra ali só quando dá algum BOE e a gente tem que apagar algum

72
00:06:15,922 --> 00:06:16,854
incêndio.

73
00:06:16,854 --> 00:06:29,474
E descobrir isso na hora, no momento que você está fazendo a sala de guerra E tentar ali
junto com os devs para poder entender como é for, se não todos os fluxos de comunicação da

74
00:06:29,474 --> 00:06:38,914
aplicação Como é ela está ali, onde ela está hospedada, qual tecnologia que ela usa A
gente tem que ir ali fazendo e nem sempre os devs estão com vontade de falar Então a gente

75
00:06:38,914 --> 00:06:45,568
tem que ir ali porque a galera, eu acho que é grande fator que preocupa muito

76
00:06:46,130 --> 00:06:57,190
Acredito que na parte de desenvolvimento, acho que eles devem ter medo de falar para não
verem que foi alguma besteira que às vezes eles fizeram, a gente aqui do lado da resposta

77
00:06:57,190 --> 00:07:03,660
incidente, a gente fica tipo, cara, como é que gente vai saber, como é que gente vai fazer
tal coisa?

78
00:07:03,660 --> 00:07:07,010
Porque a gente não conhece a aplicação a fundo, né?

79
00:07:07,830 --> 00:07:09,970
E é muito...

80
00:07:09,970 --> 00:07:12,142
Um dos casos que a gente pegou...

81
00:07:12,183 --> 00:07:25,663
Foi muito difícil, a gente ficou acho que dois meses numa resposta E a gente já sabia em
dois dias de resposta o que deveria ser feito, o que precisava ser feito Mas era uma

82
00:07:25,663 --> 00:07:39,263
aplicação que era legado E a implementação que a gente precisava que eles fizessem Que era
simplesmente adicionar multifator de autenticação Que já resolveria boa parte do problema

83
00:07:39,263 --> 00:07:41,872
Quebraria a aplicação

84
00:07:42,230 --> 00:07:46,650
Como é que você responde ao incidente?

85
00:07:46,650 --> 00:07:54,070
Que se você botar multifator de autenticação você precisa de todo um processo para isso
acontecer.

86
00:07:54,950 --> 00:07:58,369
Foi muito complicado, a gente ficou ali.

87
00:07:58,369 --> 00:08:06,070
Eles implementavam uma medida, o atacantia lá e vinha novamente, roubava uma credencial e
vinha novamente.

88
00:08:06,130 --> 00:08:09,974
Aí eles iam lá, corrigiam alguma coisa, o atacantia.

89
00:08:09,974 --> 00:08:21,694
Porque ele estava ali com uma persistência, gente acredita que ele devia ter uma base de
credencial vazada que era válida e o pessoal resetava, resetava credencial, resetava

90
00:08:21,694 --> 00:08:31,994
token, mas nada estava funcionando e a gente falava, gente, você precisa resetar e botar
multifotor de autenticação, porque o cara tentava ir no brute force e acabava conseguindo.

91
00:08:32,662 --> 00:08:42,002
Então foram dois meses aí para o MFA sair E quando saiu a gente conseguiu ter pouco de
paz, digamos assim, né?

92
00:08:42,002 --> 00:08:52,962
E de fato a ideia que a gente falou é você não vai resolver o problema Mas pelo menos você
vai parar o incidente E vai ganhar tempo para você conseguir corrigir o que precisa ser

93
00:08:52,962 --> 00:08:53,692
corrigido, né?

94
00:08:53,692 --> 00:09:02,678
Porque quando a gente está trabalhando na resposta A gente tem, claro, todas aquelas fases
de resposta incidente Até erradicação e tal

95
00:09:02,678 --> 00:09:10,258
Mas tem casos, às vezes, a gente só pode ir até a contenção, a gente não consegue fazer
parte da recuperação do ambiente.

96
00:09:10,258 --> 00:09:22,648
E é muito o que acaba acontecendo quando é web, porque a gente aqui, gente vai atrás de
soluções, pontos que possam ajudar as pessoas a parar o incidente.

97
00:09:22,648 --> 00:09:31,978
Mas às vezes a solução si vai depender de um desenvolvedor sênior que tenha conhecimento
melhor de tal tecnologia, ou de tal aplicação, ou de tal processo da empresa.

98
00:09:32,463 --> 00:09:42,103
Então a gente acaba ficando pouco limitada alguns pontos Até a contenção mesmo que foi o
nosso caso A falou, entendo que é uma aplicação legada Entendo que não é muito simples de

99
00:09:42,103 --> 00:09:55,423
você construir uma aplicação nova Mas essa falha que vocês estão sofrendo não tem outro
jeito O cara pode descobrir a senha e pode até de repente tentar burlar o MFA Porque não

100
00:09:55,423 --> 00:09:59,903
existe bala de prata E vai conseguir de novo

101
00:10:01,814 --> 00:10:08,270
Pelo visto, parou e a gente não teve mais incidentes nessa aplicação em específico

102
00:10:08,992 --> 00:10:20,972
é uma boa, uma bela introdução, caso onde mostra que você tem legado, como a gente estava
falando offline aqui, com dos membros para não falar muita coisa, o legado tem 10 milhões

103
00:10:20,972 --> 00:10:21,612
de leis de código.

104
00:10:21,612 --> 00:10:27,232
Nem fazer SAST os caras conseguem direito porque ninguém processa 10 milhões de leis de
código cloud, mas enfim.

105
00:10:27,292 --> 00:10:32,902
Então, você tem legado onde uma, como a Letícia falou muito bem, uma simples mexida.

106
00:10:32,902 --> 00:10:36,436
A sabe que ativa o MFA, você vai lá no Office 365, flega.

107
00:10:36,436 --> 00:10:40,836
está ativado, no AD, enfim, onde quer que seja o seu provider, você vai lá e flega.

108
00:10:40,836 --> 00:10:49,176
Mas o impacto disso, por conta da arquitetura da aplicação, porque não foi pensado isso lá
atrás, aquela coisa toda, quebra a aplicação.

109
00:10:49,756 --> 00:10:54,296
É absurdo, uma mexida tão simples, vai lá, putz, quebra todo o meu processo, eu não
consigo.

110
00:10:54,296 --> 00:10:59,386
E aí, pior, nem eu não consigo, se fosse projeto de migração e avanço tecnológico, é uma
discussão.

111
00:10:59,386 --> 00:11:03,576
Mas, olha, estamos com problema, é necessário fazer isso, urgente.

112
00:11:03,576 --> 00:11:05,596
Não, dá porque isso não quebra a aplicação.

113
00:11:05,908 --> 00:11:13,108
Então você vê que, como vários tópicos aqui, arquitetura, pensada, próprio time de
segurança, enfim.

114
00:11:13,108 --> 00:11:18,148
Mas você começou também falando, Letícia, e aí a minha próxima pergunta é sobre um...

115
00:11:18,148 --> 00:11:21,028
Até começar a responder incidente traz um pouco de trabalho.

116
00:11:21,028 --> 00:11:24,228
Você falou muito, deve não quer falar alguma coisa, e tal, tal, tal, tal.

117
00:11:24,228 --> 00:11:31,188
Eu sempre brinco que o time de resposta incidente muitas vezes faz um forense interno
antes de começar resposta incidente.

118
00:11:31,188 --> 00:11:36,468
porque tem que descobrir quem é o dono da aplicação, onde é que está o log, qual a
tecnologia, o que chama o quê.

119
00:11:36,468 --> 00:11:40,188
Às vezes diagrama simples já resolveria boa parte dos problemas, mas enfim.

120
00:11:40,188 --> 00:11:45,988
É real isso, então tem que fazer uma investigação interna antes de começar a fazer uma
resposta acidente.

121
00:11:46,166 --> 00:11:53,406
Sim, aplicação gerar log é privilégio.

122
00:11:53,486 --> 00:11:58,706
assim, a aplicação gera log, já é privilégio.

123
00:11:58,706 --> 00:12:01,526
Nossa, estamos 2050.

124
00:12:04,366 --> 00:12:10,426
Gerar log até gera, mas quando você gera log que dá pra ver o que está acontecendo é outra
história.

125
00:12:10,426 --> 00:12:13,446
Porque também só gerar log não é o suficiente.

126
00:12:13,446 --> 00:12:16,054
Você tem que também ter uma boa configuração.

127
00:12:16,054 --> 00:12:22,294
Para você gerar logs que falem coisas para você Porque nem sempre...

128
00:12:22,294 --> 00:12:26,014
Mas só de ter log já é leve alívio, né?

129
00:12:26,214 --> 00:12:34,134
E sim, a gente precisa fazer um entendimento de como é que funciona Tanto é que quando a
gente pega, principalmente casos de...

130
00:12:34,134 --> 00:12:36,294
Régula de negócio que tem alguma falha, né?

131
00:12:36,294 --> 00:12:42,294
A gente tem que perguntar como é que aplicação funciona A gente tem que falar assim, olha,
me explica como é que...

132
00:12:42,294 --> 00:12:44,464
Qual é a interação do usuário?

133
00:12:44,464 --> 00:12:55,674
Me explica como é que você acessa a aplicação Me explica onde que ela está hospedada Me
explica todos os fluxos que ela tem Se você tiver algum diagrama, tiver algum desenho,

134
00:12:55,674 --> 00:13:08,514
envia para a gente Poucos casos são os que tem a gente Mas a gente sempre pede porque é o
primeiro passo para a gente conseguir entender Porque quando a gente entra na sala o

135
00:13:08,514 --> 00:13:10,296
problema já está acontecendo

136
00:13:10,296 --> 00:13:15,696
A equipe de desenvolvimento, eles falam com a gente como se gente trabalhasse junto deles.

137
00:13:15,696 --> 00:13:22,916
E aí eles ficam, não, porque a gente tá fazendo assim, sei lá, que eles sempre citam uns
nomes lá, assim, que cada tem um nome para cada coisa.

138
00:13:22,916 --> 00:13:28,796
Não, porque tá aí não sei aonde, porque não sei quem, e gente fica tipo, o que que é isso?

139
00:13:29,056 --> 00:13:31,696
Primeiro, me explica o que que é isso.

140
00:13:32,600 --> 00:13:42,820
E aí a gente acaba tendo muita essa dificuldade mesmo de primeiro entender como é que
funciona, pra gente poder saber qual que foi o fluxo, como é que como bem recetou, a gente

141
00:13:42,820 --> 00:13:47,880
já pegou casos de fraude de cartão de crédito que utilizavam o...

142
00:13:47,880 --> 00:13:52,560
Estavam criando cartões de crédito falsos e utilizavam...

143
00:13:52,560 --> 00:14:01,820
Esse foi outro caso, Criaram cartões de crédito falso e o ataque utilizavam pra ficar
fazendo compras por conta do limite da empresa, o cartão virtual que era gerado.

144
00:14:02,671 --> 00:14:14,951
E aí, foi coisa de maluco, porque a gente teve que primeiro entender, fazer um desenho de
toda a aplicação, porque nem quem estava desenvolvendo sabia direito quais eram os

145
00:14:14,951 --> 00:14:17,471
processos e com o que falavam, onde que estava.

146
00:14:17,471 --> 00:14:24,511
E a gente teve que fazer primeiro junto disso para a gente poder entender o que estava
acontecendo.

147
00:14:24,511 --> 00:14:25,311
Aí tinha gente que...

148
00:14:25,311 --> 00:14:27,543
Não, porque sou eu cuido da infra.

149
00:14:27,543 --> 00:14:35,642
é, mas quem desenvolve é outra pessoa de outra área que tem que ir lá falar como sei quem,
a gente tipo, tá, tu traz a pessoa aqui?

150
00:14:35,642 --> 00:14:38,843
Não, não dá para aparecer a pessoa não tem agenda, a gente fica...

151
00:14:38,843 --> 00:14:41,503
Tá, é complicado.

152
00:14:41,872 --> 00:14:51,832
Cara, a letícia vai falando, já vai cansando, Não você falar, Mas assim, de você ver a
amorosidade das coisas acontecerem.

153
00:14:52,052 --> 00:14:56,472
Imagina você chegar no hospital, você tá morrendo, aí o médico fala, então agora eu não
tenho agenda.

154
00:14:56,472 --> 00:15:00,912
Então agora, putz, eu tenho outra reunião, putz, eu não sei onde é a sala que o cara tá
internado.

155
00:15:00,912 --> 00:15:02,892
Sabe, chega a ser absurdo.

156
00:15:02,892 --> 00:15:07,272
Benyur, você que tá aí todo elegante hoje, cara veio de terno, Marcos.

157
00:15:07,272 --> 00:15:08,832
Eu exijo.

158
00:15:08,992 --> 00:15:09,620
Exijo.

159
00:15:09,620 --> 00:15:10,440
que daqui para frente...

160
00:15:10,440 --> 00:15:11,490
Eu estou de pijama.

161
00:15:11,490 --> 00:15:18,400
Eu existo que daqui para frente passemos a gravar de terno.

162
00:15:18,400 --> 00:15:24,540
cara está na estica e o senhor aí de camisa, sei lá, camisa essa, eu estou de pijama.

163
00:15:24,540 --> 00:15:27,560
Letícia, dar um desconto porque é convidado.

164
00:15:27,560 --> 00:15:30,370
Convidado tem todos os direitos aqui, mas o cara está na estica.

165
00:15:30,370 --> 00:15:34,500
Bayer, você que está aí na elegância de hoje, fala para mim o seguinte.

166
00:15:34,580 --> 00:15:38,516
A Letícia falou muito bem do problema e dos problemas.

167
00:15:38,516 --> 00:15:45,606
Como é que nós, de AppSec, podemos ajudar os times de C-Sert, de FIIR, etc.

168
00:15:45,606 --> 00:15:48,876
Como é a gente pode ajudar essa galera a não sofrer tanto?

169
00:15:48,876 --> 00:16:05,196
Porque o deve é caso, essa galera eu já, lá, cortei relações, como é que a gente pode
ajudá-los de uma maneira mais prática a literalmente ter menos dor?

170
00:16:05,196 --> 00:16:06,401
Isso é uma vida mais simples.

171
00:16:06,401 --> 00:16:09,001
Vamos lá, Primeira resposta, né.

172
00:16:09,141 --> 00:16:11,361
Eu estou na elegância, né.

173
00:16:11,361 --> 00:16:17,281
Pelo menos, graças a Deus, que eu não fui preso e vim na elegância, pra pegar a série
especial e gastei minha ligação com o podcast.

174
00:16:17,281 --> 00:16:20,581
Então essa é a primeira questão, né.

175
00:16:20,581 --> 00:16:25,401
Poderia ligar pra minha esposa e dizer amor, preso, mas não tenho podcast pra fazer, então
vamos lá.

176
00:16:25,741 --> 00:16:28,421
A segunda questão é...

177
00:16:28,421 --> 00:16:32,101
Vamos pegar esse caso, né, onde a gente precisa, onde gente tem incidente.

178
00:16:32,101 --> 00:16:34,657
Eu passei por mais de uma vez, né, questão de folheiro do tipo, cara...

179
00:16:34,657 --> 00:16:36,997
Estamos investigando caso X.

180
00:16:36,997 --> 00:16:41,777
Teve outro caso que foi bem legal, que a gente tinha uma suspeita.

181
00:16:41,777 --> 00:16:50,636
Tinha uma fraude, que a gente identificou, E a tinha uma suspeita se era bote ou era
fraude da fraude.

182
00:16:50,636 --> 00:16:52,677
Que é cenário absurdo.

183
00:16:52,677 --> 00:16:54,497
O que não é fraude da fraude é...

184
00:16:54,497 --> 00:17:03,224
O cara é fraudador e aí ele pega laranja e ele fala, o laranja fala, eu não reconheço essa
compra.

185
00:17:03,224 --> 00:17:15,524
Mas na verdade o cara reconhece, ele faz parte da fraude Só que ele tem dois, tem cara que
tá com ele fazendo compra E aí esse cara diz que o cartão dele foi roubrado E a gente não

186
00:17:15,524 --> 00:17:24,944
sabe se o cara é o fraudador, que é pra ficar a fraude da fraude Ou se realmente ele teve
um malware na máquina dele Que comprometeu o acesso dele, o cartão de crédito, assim e

187
00:17:24,944 --> 00:17:30,040
diante E a gente precisou adentrar aos detalhes

188
00:17:30,040 --> 00:17:39,100
e buscar todos os logs possíveis, Então, apenas para definir o método, a URL e o status
code e resposta não é log, tá?

189
00:17:39,100 --> 00:17:40,020
Beleza?

190
00:17:40,020 --> 00:17:47,700
Isso só ajuda pouco a gente a definir quando algo teve sucesso ou não, mas não ajuda tanto
no forense, né?

191
00:17:47,700 --> 00:17:56,980
E logar todo o bar é impossível porque senão gente teria que gastar submarino de dinheiro
para guardar em logs e storage, né?

192
00:17:56,980 --> 00:17:58,039
Então...

193
00:17:58,039 --> 00:18:05,419
Log, log modeling, Toda parte de definição de log de auditoria.

194
00:18:05,679 --> 00:18:07,519
Esse é processo que é obrigatório.

195
00:18:07,519 --> 00:18:08,119
Então, vamos lá.

196
00:18:08,119 --> 00:18:12,839
Como a galera de desenvolvimento de AppSec, não desenvolvimento, AppSec pode ajudar?

197
00:18:12,839 --> 00:18:27,899
A primeira questão é ter bem definido os requisitos de segurança para as aplicações entre
eles, os logs que a aplicação precisa ter quando alguma operação crítica

198
00:18:28,535 --> 00:18:29,755
executado.

199
00:18:29,775 --> 00:18:33,935
exemplo, cara, logins, eu tenho log?

200
00:18:34,175 --> 00:18:35,695
Tenho ou não tenho?

201
00:18:35,754 --> 00:18:45,835
Uma pessoa de EPSEC, que no momento que viu uma operação crítica e fez uma modelagem de
ameaça, está revisando o sistema, porque a gente vai chegar na modelagem de ameaça, ela

202
00:18:45,835 --> 00:18:50,708
viu que naquela operação crítica não tinha 2FA, ela já podia fazer avançar de sabalões.

203
00:18:50,708 --> 00:18:51,748
Entendeu?

204
00:18:52,008 --> 00:19:01,178
Antes do fornente chegar lá, é o cara, peraí, peraí, fui lá ver os logs pra atender a
equipe de resposta incidente pra caso, algo assim, é aquele esquema, né?

205
00:19:01,178 --> 00:19:05,948
Se alguma merda acontecer aqui, que é ponto crítico, a gente consegue saber o que
aconteceu?

206
00:19:05,948 --> 00:19:13,268
Porque essa é resposta que a gente quer no momento, a gente vai vincular essa resposta a
várias outras pra chegar na solução do caso, né?

207
00:19:13,708 --> 00:19:18,255
Então, definição de logmodule dentro do que a gente tem...

208
00:19:18,255 --> 00:19:19,495
já começa por aí.

209
00:19:19,495 --> 00:19:22,255
E não é só o pessoal de APSEC, o pessoal de segurança que vai resolver isso.

210
00:19:22,255 --> 00:19:27,455
pessoal de antifraude vai precisar disso, O pessoal de auditoria vai precisar disso.

211
00:19:27,455 --> 00:19:34,635
E aí anda que tá outro ponto, saber conectar politicamente mais de uma área envolvida num
problema.

212
00:19:35,635 --> 00:19:38,355
Saber articular isso dentro da empresa é importante também.

213
00:19:38,355 --> 00:19:41,815
A segunda questão é a modelagem de ameaça si.

214
00:19:42,035 --> 00:19:44,230
Isso poderia ter prevenido...

215
00:19:45,134 --> 00:19:48,494
ou reduzido muito a probabilidade de esse problema acontecer.

216
00:19:48,494 --> 00:19:51,209
Porque a montagem ameaça, ela começa com o quê?

217
00:19:51,209 --> 00:19:57,029
A arquitetura do sistema ela começa...

218
00:19:57,029 --> 00:19:57,769
É, mas...

219
00:19:57,769 --> 00:20:07,509
Exato, tu vai chegar do cara, deixa eu ver como é que isso aqui é, como ele funciona, o
que a gente tem, quem são as pessoas, qual é o sistema envolvido, o que faz a aplicação,

220
00:20:07,509 --> 00:20:08,829
onde faz a aplicação.

221
00:20:08,829 --> 00:20:11,691
Isso serve de insumo para o resposta de gente também.

222
00:20:11,942 --> 00:20:19,062
Então, resumo, AppSec vai ajudar nesse contexto, na minha visão, duas formas.

223
00:20:19,062 --> 00:20:27,502
A primeira é, conhecendo o sistema que gente tem dentro de casa, porque se a gente não
conhece o que a gente está fazendo com o AppSec.

224
00:20:27,522 --> 00:20:38,922
E a segunda é, garantir que o mínimo que a gente precisa de segurança no contexto de
resposta a incidentes, seja aplicado.

225
00:20:39,182 --> 00:20:40,910
Que a gente cuida.

226
00:20:40,910 --> 00:20:46,070
Então essa seria a minha resposta por esse momento.

227
00:20:46,926 --> 00:21:01,726
Marcos, você que não está tão elegante, mas eu sei que vai estar no próximo episódio, qual
é a sua sugestão para te ajudar a Letícia e o time dela a ter uma resposta mais eficaz, no

228
00:21:01,726 --> 00:21:03,706
sentido de mais ágil?

229
00:21:03,706 --> 00:21:05,266
Porque acho que...

230
00:21:05,266 --> 00:21:08,386
Ela falou que teve caso de dois meses que no fim das contas resolveu.

231
00:21:08,386 --> 00:21:10,026
ficou dois meses tomando porrada.

232
00:21:10,026 --> 00:21:13,116
Dependendo do ataque, dois minutos você está fora do jogo.

233
00:21:13,116 --> 00:21:13,826
Acabou.

234
00:21:13,826 --> 00:21:15,026
Game over.

235
00:21:15,358 --> 00:21:21,321
Então, é a sua recomendação para a Letícia?

236
00:21:21,321 --> 00:21:26,722
Cara, concordo boa parte com o que o Benhur falou, praticamente tudo ali.

237
00:21:26,722 --> 00:21:35,242
Uma coisa que eu acho que é válido também, e que time de Epsec tem que ter isso na mão, é
realmente você ter ali a modelagem e ameaça.

238
00:21:35,242 --> 00:21:39,982
que isso vai ajudar muito o pessoal de respostas incidentes.

239
00:21:39,982 --> 00:21:47,961
Você já ter ali, já saber pelo menos ali o que pode acontecer possivelmente, ao que o
Benhur já falou, não é novidade nenhuma.

240
00:21:48,361 --> 00:21:58,201
mas acho que você ter o diagrama ali, tudo separado de uma maneira organizada, não adianta
você ter isso aí perdido em uma pasta qualquer do SharePoint.

241
00:21:58,201 --> 00:22:06,601
Então você ter isso organizado, saber onde tá, você ter a modelagem tanto da arquitetura
total como separada por módulos ajuda muito.

242
00:22:07,241 --> 00:22:14,561
Então acho que na minha visão ter essa parte de modelagem da arquitetura do sistema é algo
que vai ajudar muito.

243
00:22:14,561 --> 00:22:18,057
Eu não sofri tantos incidentes quanto Benyulia, Letícia e você.

244
00:22:18,057 --> 00:22:22,857
Então, na minha visão, que ter mais isso já poderia ajudar.

245
00:22:22,857 --> 00:22:25,173
Fora o log e tudo mais que o Benhor já falou.

246
00:22:25,854 --> 00:22:28,674
Seu maior incidente foi estar longe de mim.

247
00:22:28,674 --> 00:22:30,534
Nossa, essa...

248
00:22:30,534 --> 00:22:32,814
Essa é pra tocar corações, né?

249
00:22:32,894 --> 00:22:43,594
Antes de ir pra próxima pergunta pra Letícia, comentário acho que seria, cara, pra ajudar
nesse contexto aí todo, eu vejo galera, eu vejo o Dave discutindo umas paradas, a gente já

250
00:22:43,594 --> 00:22:45,154
falou isso em outros episódios, né?

251
00:22:45,154 --> 00:22:54,214
galera discutindo umas paradas mirabolantes, se o Visual Studio Code tem que ser dark ou
branco, tipo, vai pra bosta, cara, vai pra merda, sabe?

252
00:22:54,214 --> 00:22:55,474
Mas, enfim...

253
00:22:55,486 --> 00:22:57,426
Pega a porra do readme.

254
00:22:57,426 --> 00:22:59,086
Vocês não gostam de ficar decorando o código?

255
00:22:59,086 --> 00:23:02,206
Pega o readme lá de cada repositório, bota a informação lá.

256
00:23:02,206 --> 00:23:05,646
O log tá nesse servidor, nesse endereço, tá aqui.

257
00:23:05,646 --> 00:23:11,646
E no seu mesmo markdown lá, faz diagramazinho ali da bolinha chamando bolinha, caixinha
chamando caixinha.

258
00:23:12,006 --> 00:23:15,526
Coloca ali listas, operações mais críticas do fluxo do processo.

259
00:23:15,526 --> 00:23:17,506
Acabou no readme.

260
00:23:17,646 --> 00:23:18,816
Quer fazer mais bonitinho?

261
00:23:18,816 --> 00:23:24,582
Cria security.md e coloca algumas informações ali no próprio repositório do código.

262
00:23:24,670 --> 00:23:29,610
Obviamente, O acesso ao repositório aos times internos e tal.

263
00:23:29,610 --> 00:23:30,070
Acabou.

264
00:23:30,070 --> 00:23:37,590
Que aí o cara vai ter respondente incidente, ele vai direto no repositório do código, ele
já bate o Não precisa nem uma página de documentação, parece uma bíblia também.

265
00:23:37,590 --> 00:23:43,930
cara vai gastar dois meses lento pra poder entender, mas o cara bate o olho, opa, os logs
da aplicação estão nesse servidor.

266
00:23:43,930 --> 00:23:45,750
Tem esse, esse, esse log.

267
00:23:45,750 --> 00:23:48,010
Ó, essa essa operação são críticas.

268
00:23:48,010 --> 00:23:51,070
A aplicação existe por negócio pra isso e pra aquilo.

269
00:23:51,070 --> 00:23:52,390
Cara, acabou.

270
00:23:52,390 --> 00:23:53,630
Assim, meia hora de trampo.

271
00:23:53,630 --> 00:23:58,650
Meia hora de trabalho você faz uma parada dessa, obviamente, desde que tem o conhecimento
dessas informações.

272
00:23:59,470 --> 00:24:06,670
E o valor é absurdo do outro lado, porque do outro lado, quando tiver uma crise, que
normalmente o time de responses é de gente, vive crise.

273
00:24:06,690 --> 00:24:12,210
Não é existencial, mas é crise literalmente profissional, do trabalho, enfim.

274
00:24:12,310 --> 00:24:14,670
Então a ideia é que...

275
00:24:14,670 --> 00:24:17,390
É, mas não nesse contexto.

276
00:24:17,390 --> 00:24:21,530
Porque, às vezes, eles precisam literalmente de agilidade.

277
00:24:21,530 --> 00:24:23,646
Então, quanto mais rápida a informação...

278
00:24:23,646 --> 00:24:30,446
mais rápido o acesso aos dados que eles precisam, mais fácil, mais ágil a ideia é que seja
a própria resposta a acidentes.

279
00:24:30,446 --> 00:24:40,025
E aí eu vou criar para o próximo top com a Letícia que é o seguinte, isso faz diferença,
Letícia, nem você falou, Dependendo do incidente, você tem mais tempo ou menos tempo para

280
00:24:40,025 --> 00:24:47,706
responder, você tem as fases lá, identificação, contenção, remediação, lições aprendidas,
aquela coisa toda.

281
00:24:47,706 --> 00:24:51,116
Até a fase de contenção, acho que é momento mais crítico.

282
00:24:51,116 --> 00:24:52,446
Você não entendeu o que está acontecendo.

283
00:24:52,446 --> 00:24:55,526
e parar o ataque, de certo modo parar o ataque.

284
00:24:56,646 --> 00:24:59,746
Então esse tempo de resposta é muito crítico.

285
00:24:59,746 --> 00:25:03,026
aí o que você sente mais falta de informação?

286
00:25:03,026 --> 00:25:11,496
Porque o log talvez seja muito essencial, mas às vezes, como gente falou, eu preciso saber
quem é o dono da aplicação para me falar uma coisa ou outra, quem é o responsável e tal.

287
00:25:11,496 --> 00:25:16,146
O que você acha que mais crítico, talvez tenha mais valor para você nesse momento?

288
00:25:17,155 --> 00:25:31,745
É a gente saber de como é que a aplicação funciona em si Porque até assim, alguns casos
raros A gente consegue entender melhor quando o cliente traz para a gente algum diagrama,

289
00:25:31,745 --> 00:25:42,722
algum fluxo da aplicação O que ela faz, então, para a gente entender como a aplicação
funciona Onde que ela está hospedada

290
00:25:42,722 --> 00:25:47,542
Qual é o banco que utiliza, de onde que sai isso, de onde que vem e tal.

291
00:25:47,542 --> 00:25:54,332
A gente consegue já saber quais perguntas que a gente pode fazer e onde que a gente pode
procurar.

292
00:25:54,332 --> 00:25:58,482
Então, por exemplo, a primeira aplicação está rodando na AWS.

293
00:25:58,482 --> 00:25:59,282
Então, beleza.

294
00:25:59,282 --> 00:26:07,242
Então, se ela está na AWS, talvez possa ser que tenha algum log da AWS que nos ajude, já
que essa aplicação não tem log si.

295
00:26:07,242 --> 00:26:09,682
Então, a gente já sabe que ela está dentro da AWS.

296
00:26:09,682 --> 00:26:12,610
Ah, o banco de dados é tal.

297
00:26:12,610 --> 00:26:21,950
Então a gente já sabe quais caminhos que a gente pode seguir para tentar entender E ter
também o fluxo do usuário mesmo, né?

298
00:26:21,950 --> 00:26:26,530
Então, beleza, o que o usuário faz quando ele abriu o site da sua aplicação?

299
00:26:26,530 --> 00:26:27,930
O que ele faz?

300
00:26:28,390 --> 00:26:36,954
Assim, desde o começo mais simples de tudo Tipo, de apertar no botão de login e...

301
00:26:37,154 --> 00:26:50,654
Digital usuário e senha vai ser gerado um token para ele, ele vai autenticar Esse token
ele expira, ele não expira O usuário fica logado por um tempo, não fica Ele é desconectado

302
00:26:50,654 --> 00:26:54,074
automaticamente ou ele só é desconectado quando ele fecha?

303
00:26:54,074 --> 00:27:04,754
não, ele mantém a sessão, então beleza A gente já sabe que se alguém que entrou na
aplicação para uma credencial vazada Ela vai ter ali uma possível persistência porque a

304
00:27:04,754 --> 00:27:06,214
sessão não reseta

305
00:27:06,275 --> 00:27:08,655
Reseto token de todo mundo.

306
00:27:08,655 --> 00:27:09,515
Vamos lá.

307
00:27:09,515 --> 00:27:11,025
Ah, eu não sei onde é Reseto token.

308
00:27:11,025 --> 00:27:13,275
Aí a gente fica tipo, meu Deus.

309
00:27:14,095 --> 00:27:15,315
Beleza.

310
00:27:15,435 --> 00:27:17,895
Reseto token de todo mundo.

311
00:27:17,895 --> 00:27:23,415
aí a gente já corta uma possível persistência do atacante.

312
00:27:23,415 --> 00:27:24,735
tá.

313
00:27:24,735 --> 00:27:28,265
Agora, uma vez que ele acessa a tela da aplicação, o que ele pode fazer?

314
00:27:28,265 --> 00:27:32,215
Ele pode, sei lá, gerar boleto.

315
00:27:32,215 --> 00:27:33,378
Então beleza.

316
00:27:33,378 --> 00:27:34,598
Qual é a comunicação?

317
00:27:34,598 --> 00:27:35,238
Quem vai?

318
00:27:35,238 --> 00:27:50,198
Então essas informações, já ter isso pronto, que é um luxo, artigo de luxo, mas que gente
acaba entendendo de tão assim, como é que funcionam as coisas, já ajuda muito na hora da

319
00:27:50,198 --> 00:27:59,298
gente saber quais perguntas a gente faz quando a gente está entrando numa sala de guerra e
tentando entender um incidente.

320
00:27:59,298 --> 00:28:01,218
E assim, às vezes até...

321
00:28:01,218 --> 00:28:14,538
questão simples, já ajuda a gente, porque a gente já teve casos, por exemplo, que a
aplicação estava com uma API que estava vulnerável.

322
00:28:15,218 --> 00:28:29,690
Agora não lembro exatamente o que, mas eu sei que essa API, ela estava fazendo com que o
atacante conseguisse puxar informações dos clientes.

323
00:28:29,698 --> 00:28:44,078
E com isso gerar nome, endereço, preço que a pessoa pagava no serviço e tal E gerava
cobranças falsas com a informação vazada Então assim, a única coisa que o pegava eram

324
00:28:44,078 --> 00:28:59,363
informações Como se ele fosse uma aplicação consultando dados de uma aplicação principal E
com isso ele já pegava essas informações Então vão ter casos, inclusive, que...

325
00:28:59,363 --> 00:29:10,823
A etapa de que, às vezes, para a gente conseguir solucionar o incidente, a gente precisa
de um pen test, de certa forma, na aplicação, porque a aplicação às vezes não tem

326
00:29:10,823 --> 00:29:19,703
informação nenhuma e às vezes a gente precisa fazer pen test para conseguir entender se a
nossa hipótese realmente foi válida e se realmente foi aquilo ali que aconteceu no

327
00:29:19,703 --> 00:29:20,283
incidente.

328
00:29:20,283 --> 00:29:27,554
Então, às vezes a situação ainda é tão tensa e crítica que...

329
00:29:27,554 --> 00:29:35,719
Não basta só você nos dar informação, a gente tem que talvez reproduzir o caminho do
atacante para tentar entender o que aconteceu.

330
00:29:35,719 --> 00:29:38,359
chega a doer na alma essas coisas, né cara?

331
00:29:38,359 --> 00:29:39,859
Mas vamos lá.

332
00:29:40,619 --> 00:29:52,119
É interessante esses pontos porque eu fico pensando aqui também, às vezes um cenário onde,
por exemplo, não necessariamente o time, o time de desenvolvimento, alimentar os outros

333
00:29:52,119 --> 00:30:01,767
times de como é aplicação, como funciona e tudo mais, mas literalmente de você ter o
acesso a isso de uma forma fácil, porque às vezes está tudo documentado.

334
00:30:01,767 --> 00:30:08,307
Só que aí eu já tive casos de não ter acesso à documentação, tinha que pedir permissão,
alguém tinha que aprovar, tinha que abrir ticket pra aprovar o acesso à página que tinha

335
00:30:08,307 --> 00:30:09,427
documentação.

336
00:30:09,427 --> 00:30:13,347
Tipo, aí não tinha acesso aos logs, tinha que abrir ticket pra ter acesso ao log.

337
00:30:13,347 --> 00:30:16,547
Então virou nas duas semanas só de abrir ticket pra ter acesso às coisas.

338
00:30:16,547 --> 00:30:24,687
Tavam as coisas, mas até os processos são meio morosos nesse contexto assim, porque quando
é crise é crise, então precisa responder rápido e é importante pessoa ter essa

339
00:30:24,687 --> 00:30:30,791
visibilidade, porque a ideia desse episódio é justamente isso, mostrar essa dificuldade do
dia dia e como que a gente pode facilitar.

340
00:30:30,791 --> 00:30:35,571
Porque a ideia é que gente torne esses processos mais fáceis e escaláveis.

341
00:30:35,651 --> 00:30:38,951
aí, Marcos, o que você acha desse contexto de...

342
00:30:38,951 --> 00:30:41,581
Porque o deve, cara, o deve é o deve, né?

343
00:30:41,581 --> 00:30:46,051
A gente já sabe, já vai martelando aí o deve-may-cry de hoje.

344
00:30:46,051 --> 00:30:48,631
Porque o deve é um ser difícil.

345
00:30:48,631 --> 00:30:51,611
Eu já tive casos do cara falar assim pra mim, isso é real, cara.

346
00:30:51,611 --> 00:30:53,031
O cara falou assim pra mim.

347
00:30:53,031 --> 00:30:55,991
Se estão atacando, eles conseguiram atacar de alguma forma.

348
00:30:55,991 --> 00:30:58,581
Então, eles conseguiram acessar o sistema, aquela coisa toda.

349
00:30:58,581 --> 00:31:00,423
Então, você também consegue descobrir.

350
00:31:00,423 --> 00:31:02,083
descobriu onde tá o log, descobriu onde tá o...

351
00:31:02,083 --> 00:31:05,423
Falei, mano, não, não, não, é não.

352
00:31:05,423 --> 00:31:08,243
Você não tá me falando negócio desse, né?

353
00:31:09,743 --> 00:31:15,483
É lógica boa, sensacional, mas eu fico pensando, imagina se eu sou paciente, eu chego no
hospital...

354
00:31:15,483 --> 00:31:17,863
É, então...

355
00:31:17,863 --> 00:31:19,263
Cara, é sensacional.

356
00:31:19,263 --> 00:31:22,443
Eu imagino chegar no hospital e o médico falar, ué, eu não vi...

357
00:31:22,443 --> 00:31:23,343
eu aprendi a ser médico?

358
00:31:23,343 --> 00:31:26,183
Aprende aí também, você se cura sozinho.

359
00:31:26,843 --> 00:31:27,343
Porra...

360
00:31:27,343 --> 00:31:29,043
Mas, enfim...

361
00:31:29,223 --> 00:31:30,113
O que você acha, Marcos?

362
00:31:30,113 --> 00:31:32,343
O que você acha desse contexto de o seguinte?

363
00:31:32,803 --> 00:31:39,303
O time de resposta a incidentes, e aí agora vamos inverter o papel, já tem monte de
incidentes, certo?

364
00:31:39,303 --> 00:31:43,443
monte histórico, monte de coisa que já aconteceu, ou seja, ameaças reais.

365
00:31:44,223 --> 00:31:52,063
O que você acha do time de modelagem de ameaças, por exemplo, já aí Marcos comenta depois
já o Ben Ur na sequência, modelagem de ameaça, próprio time de arquitetura e

366
00:31:52,063 --> 00:31:57,911
desenvolvimento, ser também alimentado por esses incidentes históricos?

367
00:31:57,927 --> 00:32:00,507
para as próximas modelagens de ameaças.

368
00:32:00,507 --> 00:32:04,327
Porque modelagem de ameaça, a gente fala que é a possibilidade de algo acontecer.

369
00:32:04,587 --> 00:32:06,707
Nesse contexto não é mais a possibilidade de acontecer.

370
00:32:06,707 --> 00:32:09,247
Já está acontecendo, já aconteceu.

371
00:32:09,547 --> 00:32:12,247
Isso já vira baseline, porque a já está tendo esses ataques.

372
00:32:12,247 --> 00:32:14,778
Como é que você enxerga esse processo aí?

373
00:32:14,778 --> 00:32:20,198
acho que o processo de modelagem é algo constante, não algo estático, já começa por aí.

374
00:32:20,198 --> 00:32:24,378
Então se você tem uma modelagem de 10 anos atrás, vale de nada hoje dia.

375
00:32:24,378 --> 00:32:34,598
É algo que você tem que estar sempre atualizando e sempre colocando ali novos vetores,
novas mitigações, estudando como que está junto com o pessoal de Threat Hunt ali, quais

376
00:32:34,598 --> 00:32:43,762
são os novos ataques que estão surgindo, bibliotecas que você usa que podem estar sofrendo
ali vulnerabilidades por desatualização, atualizações novas de sistema.

377
00:32:43,762 --> 00:32:55,402
framework etc então já começa por aí se o cara não tem uma modelagem que está sendo
atualizada constantemente o risco dele está lá cima e sem contar que o incidente vai

378
00:32:55,402 --> 00:33:01,226
acontecer ele não tem a menor noção do que está acontecendo então na minha visão começa
por aí

379
00:33:01,737 --> 00:33:09,576
E bem, Uri, o que você acha nesse contexto de retroalimentar coincidentes históricos,
retroalimentar as modelagens dos times de desenvolvimento?

380
00:33:09,576 --> 00:33:13,776
Só não acho valioso como deveria ser obrigatório.

381
00:33:13,776 --> 00:33:23,456
Porque não tem nada melhor que você fazer uma mudada de ameaça e colocar assim, Pessoal,
eu acho muito interessante a gente colocar um duplo fator de autenticação aqui.

382
00:33:23,556 --> 00:33:26,316
Porque seis meses atrás, entendeu?

383
00:33:26,316 --> 00:33:32,516
Cara, não tem argumento mais fácil de você olhar...

384
00:33:32,516 --> 00:33:35,816
Não é o tipo assim, ó, porque eu escutei falar?

385
00:33:35,816 --> 00:33:36,836
Não.

386
00:33:36,876 --> 00:33:39,461
Esse aqui era o link do ticket, tá?

387
00:33:39,463 --> 00:33:41,103
vocês querem ver o que aconteceu?

388
00:33:41,103 --> 00:33:43,323
Tá aqui o link do Gira, entendeu?

389
00:33:43,323 --> 00:33:44,463
Foi isso que pessoal fez.

390
00:33:44,463 --> 00:33:49,563
Então assim, eu tô falando pra vocês aqui de boa pra gente ver o que dá pra fazer.

391
00:33:49,563 --> 00:33:57,623
Ou a gente pode arriscar perder os dois meses trabalhando o final de semana que nem gente
aconteceu no período passado, entende?

392
00:33:57,623 --> 00:34:06,943
Então, exemplos de incidentes reais, eles, quando a gente pega o caso de...

393
00:34:06,951 --> 00:34:11,391
desse presidente e traz para modelagem e ameaça gente está fazendo duas coisas.

394
00:34:12,011 --> 00:34:18,411
Primeiro a gente consegue reforçar a importância daquilo porque é baseado fatos reais.

395
00:34:20,631 --> 00:34:26,431
Tudo que tu coloca na frente do filme de terror que tu coloca baseado fatos reais muda
totalmente o jogo.

396
00:34:26,571 --> 00:34:36,873
Então a segunda questão é que como foi baseado algo que realmente aconteceu você
transforma aquela situação de modelagem e ameaça

397
00:34:37,191 --> 00:34:39,611
e uma ação de aprendizado também.

398
00:34:39,751 --> 00:34:49,771
E ela já vem embutida, já vem temperado esse aprendizado com eu realmente estou aprendendo
algo real, porque já aconteceu.

399
00:34:50,091 --> 00:34:54,651
E não estou aprendendo algo que talvez vá acontecer.

400
00:34:55,471 --> 00:35:01,611
Não, ele já aconteceu no passado e acaba sendo extremamente importante porque já tem
evidência.

401
00:35:01,611 --> 00:35:05,737
Agora, uma coisa que é interessante trazer isso...

402
00:35:05,737 --> 00:35:09,997
é não só o incidente passado para as novas modelagens de ameaça.

403
00:35:09,997 --> 00:35:13,377
O que é totalmente obrigatório.

404
00:35:13,477 --> 00:35:22,417
Mas a questão é, quando a gente teve aquele incidente, qual que foi o conhecimento ou a
dor ou a experiência que gente obteve?

405
00:35:22,417 --> 00:35:26,337
Que a gente conseguiu embutir aquilo na cultura da empresa?

406
00:35:28,097 --> 00:35:32,616
Porque vou dar exemplo, beleza, gente gerou log.

407
00:35:32,616 --> 00:35:34,016
E outra coisa, né?

408
00:35:34,016 --> 00:35:38,196
É importante quando gerar log gerar de uma forma que eles sejam queryáveis, tá?

409
00:35:38,276 --> 00:35:39,656
Ponto.

410
00:35:39,696 --> 00:35:42,096
Aquele texto...

411
00:35:42,096 --> 00:35:43,196
É...

412
00:35:43,196 --> 00:35:43,796
É...

413
00:35:43,796 --> 00:35:54,126
Porque aqueles blocos de gigabyte de log não estruturado não ajuda muito ficar no control
F ali, tá?

414
00:35:54,126 --> 00:35:54,726
Beleza.

415
00:35:54,726 --> 00:35:56,076
Então vamos lá.

416
00:35:56,836 --> 00:35:59,416
Agora a questão é...

417
00:35:59,416 --> 00:36:01,890
A gente entendeu...

418
00:36:02,280 --> 00:36:09,820
a necessidade da estrutura, da informação e da evidência sobre as ações?

419
00:36:10,400 --> 00:36:13,420
Porque é isso que a gente quis ter tirado daquele cenário, né?

420
00:36:13,420 --> 00:36:25,580
Então se a gente conseguiu pegar os incidentes e não só pensar nas ações que gente vai
fazer daqui pra frente, relacionado a o que eu vou imputir dentro das práticas atuais, mas

421
00:36:25,580 --> 00:36:26,752
também...

422
00:36:26,760 --> 00:36:33,920
Se aquilo consegue estar na cultura da empresa a ponto de eu chegar para o time de
desenvolvimento.

423
00:36:34,040 --> 00:36:40,200
E eu dizer, cara, aqui a vai precisar de log de auditoria, porque se o cara fizer isso a
gente tem que traquear essa ação.

424
00:36:40,200 --> 00:36:44,241
Eu não tenho que passar os próximos 30 minutos explicando por que aquilo é importante.

425
00:36:44,241 --> 00:36:45,081
entendeu?

426
00:36:45,181 --> 00:36:51,721
Porque se não, é porque se não a gente continua na estaca zero.

427
00:36:51,721 --> 00:36:59,941
A única diferença é a gente teve um argumento a mais agora para conversar, mas a gente de
fato não progrediu.

428
00:36:59,941 --> 00:37:04,921
A gente só tem mais evidências, tem mais exemplos para dar, a gente não progrediu.

429
00:37:04,921 --> 00:37:11,581
Então a empresa precisa estar evoluindo nessa escala, entende?

430
00:37:11,721 --> 00:37:13,809
Cada vez que eu reduzo

431
00:37:13,809 --> 00:37:24,289
a quantidade de tentativa de convencimento sobre uma prática até qualquer escala zero que
a gente quer chegar.

432
00:37:24,289 --> 00:37:29,449
Quando eu não preciso convencer, quando eu falo cara, a escala zero é.

433
00:37:29,449 --> 00:37:35,409
Cara, a gente precisa aqui, a precisa de logo de auditoria porque precisamos fazer o trace
das doações do usuário aqui.

434
00:37:35,409 --> 00:37:38,509
O cara fala, verdade, perfeito, e dá ok.

435
00:37:38,509 --> 00:37:39,729
Isso é escala zero.

436
00:37:39,729 --> 00:37:43,737
A gente quer retroagir essa escala, a quer estar na escala negativa.

437
00:37:43,793 --> 00:37:55,553
que é quando a gente chegar a fazer modagem ameaça o cara já tem isso cara aqui a vai
botar log de auditoria entendeu exato entende então se a gente não conseguir medir isso

438
00:37:55,553 --> 00:38:01,937
dentro da evolução da empresa depois de incidente acho que gente precisa melhorar o speed
interno daí

439
00:38:02,490 --> 00:38:15,270
Só comentário, uma das coisas que a está fazendo aqui na empresa atualmente é pegar
vulnerabilidades ou pegar problemas, não só incidentes ainda mas problemas que

440
00:38:15,270 --> 00:38:27,110
aconteceram, a gente está criando webinars para passar para o desenvolvedor o que aquele
problema pode causar de pior e como resolver agora por exemplo estou criando webinar sobre

441
00:38:27,110 --> 00:38:30,790
int overflow que é problema constante que eu tenho aqui com C e C++

442
00:38:31,018 --> 00:38:39,775
Então, estruturando, criando treinamento, mostrando como que faz, como mitiga para que
isso não venha a ocorrer numa aplicação num cliente, por exemplo.

443
00:38:39,775 --> 00:38:40,212
e

444
00:38:40,212 --> 00:38:43,353
Minhas vinhetinhas estão atrasadas, mas elas saem, fica tranquilo.

445
00:38:43,353 --> 00:38:54,516
Para a caminhar para o final, Letícia, eu sempre falo para o pessoal geral, já falei isso
várias vezes aqui no podcast, que o mínimo, o mínimo, o mínimo, se bobear até o OK, ter

446
00:38:54,516 --> 00:39:00,296
mais coisa vai ser bom, mas isso é o mínimo e é bem suficiente.

447
00:39:00,296 --> 00:39:04,886
Num log, para a fazer uma resposta a acidentes, são cinco Ws.

448
00:39:04,886 --> 00:39:06,492
Who, what, when, where?

449
00:39:06,492 --> 00:39:07,472
Why?

450
00:39:07,472 --> 00:39:12,052
Isso ajuda, isso aí já ajuda, barra resolve muita coisa.

451
00:39:12,452 --> 00:39:19,152
Estou errado, eu quero saber se eu estou errado esses anos todos ou se eu não estou
falando tanta besteira assim, o que você acha?

452
00:39:19,426 --> 00:39:36,169
Não, tá certíssimo, Óbvio que quando a gente consegue saber quem fez o que, onde, quando,
qual momento, é perfeito, mas só de muitas vezes a gente ter qual foi o usuário, o que ele

453
00:39:36,169 --> 00:39:45,109
fez, qual é a hora que isso aconteceu, a hora que teve a operação, a transação, já ajuda.

454
00:39:45,109 --> 00:40:00,211
porque a gente precisa entender, por exemplo, se foi alguém que autenticou aqui ou será
que foi alguém que comprometeu uma aplicação terceira que está consumindo esses dados.

455
00:40:00,211 --> 00:40:04,213
E aí, isso está saindo dessa aplicação terceira.

456
00:40:04,213 --> 00:40:09,633
Essas coisas ajudam muito a nível de log e não só a nível de log.

457
00:40:09,633 --> 00:40:11,097
As pessoas, às vezes...

458
00:40:11,097 --> 00:40:23,358
coisas simples que podem ser implementadas que acredito talvez que até a nova geração de
desenvolvedores já saiba que é você fazer uma validação de empurros, colocar ali CAPTCHA

459
00:40:23,358 --> 00:40:33,199
para você conseguir fazer alguma autenticação ou algum formulário, colocar ali CAPTCHA no
final, mas tem que ser assim, usa aquele recapitulo do Google, tá ligado?

460
00:40:33,199 --> 00:40:38,408
Não faz aquele CAPTCHA que você bota ali numerosinho que aquilo ali, né?

461
00:40:38,713 --> 00:40:52,193
Enfim, é facilmente burlável, então assim Desde o mais simples funciona Então a gente já
pega a incidente de Estão explorando o meu formulário aqui A gente vai ver lá o registro

462
00:40:52,193 --> 00:40:56,394
do log tá lá clarinho Alguém tentando xss, tá ligado?

463
00:40:56,394 --> 00:41:04,152
E fica ali Spamando, a gente já vê logo alerta E CAPT já resolve

464
00:41:04,242 --> 00:41:17,252
Claro que tem todos os processos, mas o capital já resolve Então assim, desde o simples, a
gente executar isso daqui serve para qualquer cenário dissidente Não só aplicação,

465
00:41:17,252 --> 00:41:33,442
qualquer outra situação Você fazer o arroz com feijão bem feito, você já mata muito
problema Então assim, você já ter esses logs que falem, que contam histórias, é o mundo

466
00:41:33,442 --> 00:41:34,458
ideal

467
00:41:34,483 --> 00:41:49,945
E ter o registro do que está acontecendo é o mundo ideal Se não dá, faz o que dá para
fazer O mínimo de informação que você consegue trazer para a gente estruturado Já ajuda e

468
00:41:49,945 --> 00:41:57,911
faz o básico bem feito Se tem recurso, bota Waf que já mitiga boa parte dos problemas

469
00:41:57,911 --> 00:42:05,291
Não é não e segurança não existe solução que vai resolver tudo mas existem camadas de
proteção que a gente consegue resolver.

470
00:42:05,291 --> 00:42:12,273
Então assim bota afro já vai mitigar uma cara muita coisa já vai ajudar.

471
00:42:12,273 --> 00:42:21,754
Botou afro beleza qualquer indício mínimo de ataque se você já tem logo desse afro você já
consegue criar alerta sabe.

472
00:42:21,754 --> 00:42:23,956
Beleza burlar o afro.

473
00:42:24,263 --> 00:42:27,123
Qual é o outro ponto de entrada da sua aplicação?

474
00:42:27,123 --> 00:42:28,083
é autenticação.

475
00:42:28,083 --> 00:42:31,024
Então, pô, vamos botar a proteção da nossa autenticação.

476
00:42:31,024 --> 00:42:33,125
Beleza, qual que é o outro ponto?

477
00:42:33,125 --> 00:42:39,926
Então, você não precisa botar log de tudo, mas bota log pelo menos das partes críticas da
sua aplicação.

478
00:42:39,926 --> 00:42:42,147
Então, assim, quem acessa o banco?

479
00:42:42,147 --> 00:42:43,540
Bota ali, então.

480
00:42:43,540 --> 00:42:46,931
Log do banco, gente entende às vezes que tem questão de custo, né?

481
00:42:46,931 --> 00:42:52,861
Você tem muito log também, você tem que armazenar isso, porque não adianta você ter log,
tem onde armazenar.

482
00:42:54,641 --> 00:42:54,770
Então...

483
00:42:54,770 --> 00:42:57,150
de custo de log, né Marcos?

484
00:42:58,050 --> 00:43:01,010
Qual que é a sua recomendação Marcos, para reduzir os custos de log?

485
00:43:01,010 --> 00:43:03,141
Desliga o servidor à noite, né?

486
00:43:03,141 --> 00:43:11,565
servidor, não, desliga por bom tempo que você vai economizar uma boa grana É, exatamente

487
00:43:11,565 --> 00:43:21,966
Então, assim, a gente entende também que essa é questão de custo, nem todo lugar tem
Então, assim, vai, Gina, vai criando logo no que você consegue fazer E aos poucos vai

488
00:43:21,966 --> 00:43:23,407
melhorando, sabe?

489
00:43:23,407 --> 00:43:26,828
Do ponto de vista de segurança, até hoje, né?

490
00:43:26,828 --> 00:43:28,108
tô aí na área...

491
00:43:28,108 --> 00:43:39,100
Eu tô na parte de resposta de incidente oficialmente imersa 100 % Há pouco mais de ano Mas
eu já, antes de estar sempre imersa resposta de incidente, eu fiz...

492
00:43:39,100 --> 00:43:41,482
que estava Pentest, estava Telso antes.

493
00:43:41,482 --> 00:43:49,785
assim, lembra que Pentest a gente tinha coisa básica, às vezes tinha aplicação que era
coisa básica, que podia causar estrago muito grande.

494
00:43:49,785 --> 00:44:04,451
Então assim, na resposta para a gente, log é o mundo, mas uma vez que a gente consiga ter
pelo menos o fluxo da aplicação e contar uma historinha.

495
00:44:04,451 --> 00:44:07,183
No mínimo, vai ser o suficiente para a gente.

496
00:44:07,933 --> 00:44:14,933
Então hoje a gente aprendeu sobre logs que contam histórias, queryáveis, esse verbo nem eu
conheci, né?

497
00:44:14,933 --> 00:44:17,634
Queryáveis, os logs têm que queryáveis.

498
00:44:17,634 --> 00:44:19,215
Mas vamos lá, vamos caminhar para o final.

499
00:44:19,215 --> 00:44:21,146
Deixa eu rodar minha vinheta favorita aqui.

500
00:44:21,146 --> 00:44:21,717
E aí

501
00:44:21,717 --> 00:44:23,517
Eu já tô rindo antes,

502
00:44:25,385 --> 00:44:27,575
Eu vou até começar o Dev May Cry de hoje.

503
00:44:27,575 --> 00:44:34,365
O Dev May Cry de hoje é o seguinte, a gente tem quadro aqui, ele diz que é coisas que a
gente gostaria de fazer para o Dev chorar.

504
00:44:34,365 --> 00:44:39,645
A minha de hoje é assim, debug, o debug na IDE é via log.

505
00:44:39,645 --> 00:44:45,366
Então tudo que acontece é gerar arquivo e aí o debug dele é via arquivo, ele tem que ver
arquivo salvo algum lugar.

506
00:44:45,366 --> 00:44:51,990
Não é vários arquivos por data e hora, é arquivo só que vai dando append ali, então vai
ficar arquivo zudo, no final do dia ele...

507
00:44:51,990 --> 00:45:01,510
tera de log, o debug dele é isso e nem sempre ele tem acesso a esse arquivo porque ele
precisa de chamado para pedir acesso porque só com a admin ele vai ter acesso a esse

508
00:45:01,510 --> 00:45:04,810
arquivo de log onde é o debug dele da máquina local dele.

509
00:45:05,230 --> 00:45:08,070
Esse seria o ambiente perfeito para o DevMayCry de hoje.

510
00:45:08,070 --> 00:45:11,629
Vocês tem algum DevMayCry para fazer o Dev chorar hoje?

511
00:45:11,629 --> 00:45:17,010
cara, que o Devo chorou esses dias, tinha uma configuração errada então...

512
00:45:17,010 --> 00:45:22,654
Abre chamada pra instalar plug-in no VS Code

513
00:45:23,496 --> 00:45:24,407
boa hein.

514
00:45:24,407 --> 00:45:28,337
Abrir chamado para instalar o extension ali seria uma boa, o cara fica puto hein cara.

515
00:45:28,337 --> 00:45:30,737
Esse cara vai ficar puto né.

516
00:45:30,737 --> 00:45:31,327
Boa.

517
00:45:31,327 --> 00:45:33,298
Letícia, alguma sugestão?

518
00:45:33,747 --> 00:45:48,548
Cara, eu acho que essa do abrir chamado para instalar plug-in é clássica, Porque às vezes
até eu passo isso Muito raro, muito raro, muito raro Mas acontece às vezes, tipo, cara Eu

519
00:45:48,548 --> 00:45:53,201
preciso instalar tal coisa aqui, gente tem que ir lá e abrir chamada, então...

520
00:45:53,201 --> 00:45:53,821
gostou.

521
00:45:53,821 --> 00:45:54,403
Peiúr!

522
00:45:54,403 --> 00:46:00,670
Desse chamado, tem que botar campo do porquê você quer essa ferramenta e é no mínimo mil
caracteres.

523
00:46:02,162 --> 00:46:03,902
Caralho, ele temperou bagulho.

524
00:46:03,902 --> 00:46:05,303
Puta que pariu.

525
00:46:05,303 --> 00:46:06,923
Boa, boa.

526
00:46:07,183 --> 00:46:07,653
Boa.

527
00:46:07,653 --> 00:46:09,623
Já que você temperou, vou temperar a minha também.

528
00:46:09,623 --> 00:46:13,523
No log que ele está debugando, no log de debug dele, não tem todas as informações que ele
precisa.

529
00:46:13,523 --> 00:46:15,703
Não tem a mensagem de erro, exemplo.

530
00:46:15,703 --> 00:46:18,423
Tem a stack, tem a linha do código, mas não tem a mensagem de erro.

531
00:46:18,423 --> 00:46:20,743
Ou seja, ele não sabe o que aconteceu no debug.

532
00:46:20,743 --> 00:46:21,763
É isso.

533
00:46:21,763 --> 00:46:23,523
Deve ter meio cry de hoje.

534
00:46:24,403 --> 00:46:26,559
É, vai se vira lá.

535
00:46:26,559 --> 00:46:27,543
aconteceu lá.

536
00:46:27,543 --> 00:46:34,283
Pô, pariu, que eu debugava o arquivo, porque eu debugou usando o println lá, como que era
o response.write no asp.

537
00:46:34,543 --> 00:46:35,023
Pô.

538
00:46:35,023 --> 00:46:39,204
Bom, pessoal, o tempo passa, o tempo voa, foi muito bom o episódio de hoje.

539
00:46:39,204 --> 00:46:45,324
Já tinha monte de coisa aqui, o que eu preciso para entrar na área de respostas
residentes, como é que a Letícia montou o time que ela falou, quero estudar o para entrar

540
00:46:45,324 --> 00:46:46,524
na área, o que eu faço.

541
00:46:46,524 --> 00:46:49,885
Muita coisa para gente discutir num segundo episódio, com certeza.

542
00:46:49,885 --> 00:46:54,372
Agradecer, Letícia, últimas mensagens, abraços para a mãe, para o pai, alguma coisa assim.

543
00:46:54,372 --> 00:47:03,372
Primeiramente agradeço a oportunidade de estar vindo falar aqui e contribuir pouco do que
a gente tem de experiência, todas as aventuras e desventuras que a gente já passou aqui na

544
00:47:03,372 --> 00:47:05,102
parte de resposta incidente.

545
00:47:05,102 --> 00:47:16,572
Eu acho que o grande objetivo aqui, porque a gente fala de segurança, é a gente se ajudar,
a gente conseguir trazer isso como experiência e mostrar a importância, porque do nosso

546
00:47:16,572 --> 00:47:19,532
lado aqui a gente vê a importância muita coisa.

547
00:47:19,532 --> 00:47:22,096
Mas às vezes...

548
00:47:22,096 --> 00:47:26,216
Quem aprendeu a desenvolver nunca foi ensinado certas coisas, né?

549
00:47:26,216 --> 00:47:31,816
E às vezes só vai aprender na vida, na marra, com o chicote estralando.

550
00:47:31,816 --> 00:47:43,616
Então a nossa ideia aqui é levar a palavra aqui da parte de segurança e mostrar que às
vezes a gente não está sendo só chata, a gente está te ajudando para que você não precise

551
00:47:43,616 --> 00:47:51,501
gastar e virar a noite resolvendo problema e às vezes colocando emprego, reputação e até
mesmo a empresa risco.

552
00:47:51,501 --> 00:47:55,173
porque já tivemos casos de empresas que faliram por conta de incidente.

553
00:47:57,502 --> 00:48:08,424
É melhor escutar a gente incomodando do que ficar do que ter o risco de ter uma incrível
experiência buscando posts no LinkedIn naquela abavaga.

554
00:48:08,424 --> 00:48:11,144
Boa, boa, boa, muito boa.

555
00:48:11,144 --> 00:48:12,934
com essa a gente encerra hoje.

556
00:48:12,934 --> 00:48:14,604
Eu sou Casper Eira.

557
00:48:14,664 --> 00:48:15,648
Eu sou o Vejor.

558
00:48:15,648 --> 00:48:17,308
E é o Samarkus Sets.

559
00:48:17,749 --> 00:48:19,829
E a Letícia Pereira que participou com a gente hoje.

560
00:48:19,829 --> 00:48:21,269
Pessoal, até semana que vem.

561
00:48:21,269 --> 00:48:22,517
Tchau, tchau.

562
00:48:22,517 --> 00:48:23,797
beijo de luz.

563
00:48:24,328 --> 00:48:24,839
Até

564
00:48:24,839 --> 00:48:27,126
bem na hora do Beurre para outra reunião, vá e...

